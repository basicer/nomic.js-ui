(this.webpackJsonpcreap=this.webpackJsonpcreap||[]).push([[0],{114:function(e,a,t){"use strict";(function(e){t.d(a,"a",(function(){return C}));var n=t(15),r=t(50),c=t(0),o=t.n(c),l=t(380),i=t(376),s=t(378),u=t(123),m=t(375),p=t(379),d=t(116),f=t.n(d),b=t(35),E=t(372),g=t(374),v=t(13),h=t(37),O=t(59),y=t.n(O),j=t(58),S=t(68),w=Object(E.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function C(){var a=w(),t=o.a.useState({key:"",user:""}),c=Object(r.a)(t,2),d=c[0],E=c[1],O=Object(v.b)(),C=Object(S.a)(),N=Object(h.f)();o.a.useEffect((function(){C&&N.push("/profile")}),[C]);var k=Object(v.c)((function(e){return e.state})),x=[];for(var I in k?k.users:{})x.push({title:I});var B;d.user.length>0&&!k.users[d.user]&&(B="Invalid User");var _=e.from(y.a.hash(e.from(d.key,"utf8"))),D=y.a.sign.keyPair.fromSeed(_.slice(0,32));try{var $=e.from(d.key,"base64");64===$.length&&(_=$,D=y.a.sign.keyPair.fromSecretKey($))}catch(T){}var L,A=e.from(D.publicKey).toString("base64"),R=k&&k.users&&k.users[d.user];d.key.length>0&&R&&A!==R.key&&(L="Incorrect Key");var P=R&&d.key.length>0&&!L;return o.a.createElement(g.a,{component:"main",maxWidth:"xs"},o.a.createElement("div",{className:a.paper},o.a.createElement(l.a,{className:a.avatar},o.a.createElement(f.a,null)),o.a.createElement(b.a,{component:"h1",variant:"h5"},"Sign in"),o.a.createElement("form",{className:a.form,autocomplete:"off",onSubmit:function(e){return e.preventDefault()}},o.a.createElement(s.a,{id:"combo-box-demo",options:x,getOptionLabel:function(e){return e.title},style:{width:"100%"},inputValue:d.user,onInputChange:function(e,a){console.log(e),e&&E(Object(n.a)({},d,{user:a}))},renderInput:function(e){return o.a.createElement(u.a,Object.assign({},e,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"usridx",label:"Username",name:"usridx",error:!!B,helperText:B,autoComplete:"off",autoFocus:!0}))}}),o.a.createElement(u.a,{margin:"normal",required:!0,fullWidth:!0,name:"kkey",label:"Password",type:"password",id:"key",autoComplete:"off",onChange:function(e){E(Object(n.a)({},d,{key:e.target.value}))},error:!!L,helperText:L,value:d.key}),o.a.createElement(m.a,{control:o.a.createElement(p.a,{value:"remember",color:"primary"}),label:"Remember me"}),o.a.createElement(i.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,disabled:!P,onClick:function(){return function(){if(console.log(D.secretKey),P){var a=y.a.sign(new Uint8Array(1),D.secretKey);console.log("SIG",e.from(a).toString("base64")),j.a.setAuth(d.user,e.from(a).toString("base64")),O({type:"LOGIN",user:d.user,request:j.a.get("/login")})}}()}},"Sign In"))))}}).call(this,t(365).Buffer)},145:function(e,a,t){e.exports=t(371)},150:function(e,a,t){},151:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},152:function(e,a,t){},369:function(e,a){},371:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),o=t.n(c),l=(t(150),t(50)),i=(t(151),t(152),t(37)),s=t(30),u=t(4),m=t(119),p=t(443),d=t(444),f=t(434),b=t(441),E=t(449),g=t(446),v=t(442),h=t(35),O=t(429),y=t(374),j=t(445),S=t(83),w=t.n(S),C=t(118),N=t.n(C),k=t(13),x=t(25),I=t(372),B=t(427),_=t(428),D=t(431),$=t(432),L=t(430),A=t(380),R=t(72),P=t(73),T=t(108),U=t.n(T),K=t(77),F=t.n(K),H=t(67),q=t.n(H),G=t(107),M=t.n(G),W=t(433),X=t(109),J=t.n(X),V=t(63),z=t.n(V),Q=t(58),Y=Object(I.a)((function(e){return{root:{marginBottom:20},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},red:{backgroundColor:R.a[500]},green:{backgroundColor:P.a[500]},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));function Z(e){var a=e.name,t=e.data,n=Y(),c=Object(k.b)(),o=r.a.useState(!0),i=Object(l.a)(o,2),s=i[0],m=i[1];return r.a.createElement(B.a,{className:n.root},r.a.createElement(_.a,{avatar:r.a.createElement(A.a,{"aria-label":"recipe",className:"passed"!=t.status?n.red:n.green},a),action:r.a.createElement(O.a,{"aria-label":"settings"},r.a.createElement(q.a,null)),title:"Proposal #".concat(a),subheader:"by ".concat(t.author," at ").concat(new Date(t.created).toString())}),r.a.createElement(L.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(D.a,null,r.a.createElement(h.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("strong",null,"Votes: "),r.a.createElement("span",null,t.votes.join(", ")),r.a.createElement("br",null),r.a.createElement("strong",null,"Code: "),r.a.createElement(z.a,null,t.code)))),r.a.createElement($.a,{disableSpacing:!0},r.a.createElement(O.a,{"aria-label":"vote up",onClick:function(){c({type:"USERS",request:Q.a.post("/vote",{id:parseInt(a)})})}},r.a.createElement(M.a,null)),r.a.createElement(O.a,{"aria-label":"share"},r.a.createElement(U.a,null)),r.a.createElement(O.a,{className:Object(u.a)(n.expand,Object(x.a)({},n.expandOpen,s)),onClick:function(){m(!s)},"aria-expanded":s,"aria-label":"show more"},r.a.createElement(F.a,null))))}function ee(){var e=Y(),a=Object(k.c)((function(e){return e.state&&e.state.proposals})),t=[];for(var n in a)t.push(r.a.createElement(Z,{key:n,name:n,data:a[n]}));return 0==t.length&&t.push(r.a.createElement("h1",{key:0},"None yet...")),r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{color:"primary","aria-label":"add",className:e.fab},r.a.createElement(J.a,null)),t)}var ae=Object(I.a)((function(e){return{root:{marginBottom:e.spacing(1)},avatar:{backgroundColor:R.a[500]}}}));function te(e){var a=e.name,t=e.data,n=ae(),c=Object(k.b)();return r.a.createElement(B.a,{className:n.root},r.a.createElement(_.a,{avatar:r.a.createElement(A.a,{className:n.avatar}),action:r.a.createElement(O.a,{"aria-label":"settings",onClick:function(){return c({type:"blah"})}},r.a.createElement(q.a,null)),title:a,titleTypographyProps:{variant:"h5"},subheader:""}),r.a.createElement(D.a,null,r.a.createElement(h.a,{variant:"body2",color:"textSecondary",component:"p"},t.key)))}function ne(){ae();var e=Object(k.c)((function(e){return e.state&&e.state.users})),a=[];for(var t in e)a.push(r.a.createElement(te,{name:t,data:e[t]}));return r.a.createElement(r.a.Fragment,null,a)}var re=t(110),ce=t(111),oe=t(120),le=t(112),ie=t(121),se=t(122),ue=t(74),me=function(e){function a(e){var t;return Object(re.a)(this,a),(t=Object(oe.a)(this,Object(le.a)(a).call(this,e))).state={error:!1},t}return Object(ie.a)(a,e),Object(ce.a)(a,[{key:"componentDidCatch",value:function(e,a){}},{key:"render",value:function(){return!1!==this.state.error?r.a.createElement("div",null,r.a.createElement("h1",null,"Something went wrong."),r.a.createElement("pre",{style:{overflow:"scroll"}},"$",this.state.error.stack)):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),a}(r.a.Component);function pe(){var e=Object(k.c)((function(e){return e.state})),a=Object(f.a)("(prefers-color-scheme: dark)")?"chromeDark":"chromeLight",t=function(e){var a=Object.assign({},e);for(var t in a)"undefined"!==typeof window[t]&&delete a[t];return a}(e);return r.a.createElement(se.a,null,r.a.createElement(me,null,r.a.createElement(ue.a,{data:t,theme:a,expandLevel:3,nodeRenderer:function(e){var a=e.depth,t=e.name,n=e.data,c=e.isNonenumerable;e.expanded;return 0===a?r.a.createElement(ue.c,{name:t,data:n}):("src"==t||"code"==t)&&"string"==typeof n&&n.length>0?r.a.createElement("span",null,r.a.createElement(z.a,{language:"javascript"},n)):r.a.createElement(ue.b,{name:t,data:n,isNonenumerable:c})}})))}var de=t(114),fe=t(448),be=t(15),Ee=Object(I.a)((function(e){return{root:{display:"flex"},active:{color:"red"},toolbar:{paddingRight:24},toolbarIcon:Object(be.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(x.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),ge=t(437),ve=t(80),he=t.n(ve),Oe=t(78),ye=t.n(Oe),je=t(438),Se=t(439),we=t(440),Ce=t(79),Ne=t.n(Ce),ke=t(81),xe=t.n(ke),Ie=t(82),Be=t.n(Ie);function _e(e){var a,t,n,c=e.open,o=e.handleDrawerClose,l=Ee();return r.a.createElement(fe.a,{variant:"permanent",classes:{paper:Object(u.a)(l.drawerPaper,!c&&l.drawerPaperClose)},open:c},r.a.createElement("div",{className:l.toolbarIcon},r.a.createElement(O.a,{onClick:o},r.a.createElement(ye.a,null))),r.a.createElement(ge.a,null),r.a.createElement("div",null,r.a.createElement(je.a,{exact:!0,button:!0,activeClassName:"Mui-selected",component:s.b,to:"/"},r.a.createElement(Se.a,null,r.a.createElement(Ne.a,null)),r.a.createElement(we.a,{primary:"Inspect"})),r.a.createElement(je.a,(a={button:!0,activeClassName:"Mui-selected",component:s.b},Object(x.a)(a,"component",s.b),Object(x.a)(a,"to","/proposals"),a),r.a.createElement(Se.a,null,r.a.createElement(he.a,null)),r.a.createElement(we.a,{primary:"Proposals"})),r.a.createElement(je.a,(t={button:!0,activeClassName:"Mui-selected",component:s.b},Object(x.a)(t,"component",s.b),Object(x.a)(t,"to","/users"),t),r.a.createElement(Se.a,null,r.a.createElement(xe.a,null)),r.a.createElement(we.a,{primary:"Users"})),r.a.createElement(je.a,(n={button:!0,activeClassName:"Mui-selected",component:s.b},Object(x.a)(n,"component",s.b),Object(x.a)(n,"to","/crypto"),n),r.a.createElement(Se.a,null,r.a.createElement(Be.a,null)),r.a.createElement(we.a,{primary:"Crypto"}))))}var De=t(68);function $e(e){return r.a.createElement(g.a,Object.assign({elevation:6,variant:"filled"},e))}function Le(){var e=Object(k.b)();return r.a.useEffect((function(){var a=window.localStorage.base||"https://nomicjs.basicer.repl.co",t=new EventSource(a+"/event-stream");window.es=t,t.onopen=function(){return console.log("Open")},t.addEventListener("initial",(function(a){e({type:"initial",data:JSON.parse(a.data)})})),t.addEventListener("update",(function(a){e({type:"update",data:JSON.parse(a.data)})}))}),[]),r.a.createElement(r.a.Fragment,null)}function Ae(){var e=Object(k.b)(),a=Object(k.c)((function(e){return e.snackbar}));return r.a.createElement(E.a,{open:!!a,autoHideDuration:4e3,onClose:function(){return e({type:"CLOSE_SNACKBAR"})}},r.a.createElement($e,{onClose:function(){return e({type:"CLOSE_SNACKBAR"})},severity:a?a.severity:"info"},a&&a.message))}function Re(e){var a=e.open,t=e.handleDrawerOpen,n=Object(i.f)(),c=Ee(),o=Object(De.a)();return r.a.createElement(b.a,{position:"absolute",className:Object(u.a)(c.appBar,a&&c.appBarShift)},r.a.createElement(v.a,{className:c.toolbar},r.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:t,className:Object(u.a)(c.menuButton,a&&c.menuButtonHidden)},r.a.createElement(w.a,null)),r.a.createElement(h.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:c.title},"Nomic.js"),r.a.createElement(O.a,{color:"inherit",onClick:function(){return n.push("/login")}},r.a.createElement(N.a,null)),o?o.name:""))}var Pe=t(52);function Te(e){var a=e.references,t={};return function e(n){if(n.$ref){if(!t[n.$ref]){var r={};"function"==a[n.$ref].$t&&(r=new Function(a[n.$ref].src)),"%ArrayPrototype%"==a[n.$ref].proto.$s&&(r=[]),t[n.$ref]=r;try{Object.assign(t[n.$ref],e(a[n.$ref]))}catch(u){}}return t[n.$ref]}if(n.$v)return n.$v;if("undefined"==n.$t)return"undefined";if(null===n)return"null";if("object"==n.$t){var c={};for(var o in n.prop)c[o]=e(n.prop[o].v);return c}if("function"==n.$t){var l={src:n.src};for(var i in n.prop)l[i]=e(n.prop[i].v);for(var s in l.upvars={},n.upvars)l.upvars[s]=e(n.upvars[s]);return l}return n}(e.root)}var Ue=Object(Pe.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"initial":return Object(be.a)({},e,{state:Te(a.data),data:a.data});case"update":var t=e.data;for(var n in a.data)t.references[n]=a.data[n];var r=Te(t);return Object(be.a)({},e,{state:r,data:t});case"SNACKBAR":return Object(be.a)({},e,{snackbar:{message:a.message,severity:a.severity||"success"}});case"CLOSE_SNACKBAR":return Object(be.a)({},e,{snackbar:void 0});case"THEME":return Object(be.a)({},e,{theme:a.theme});case"LOGIN_SUCCESS":return console.log(a),Object(be.a)({},e,{user:a.user})}return e}),Object(Pe.c)(Object(Pe.a)((function(e){return e.getState,function(e){return function(a){if(!a.request)return e(a);e({type:a.type+"_PENDING"}),a.request.then((function(t){e(Object(be.a)({},a,{type:a.type+"_SUCCESS",data:t.data}))}),(function(t){e(Object(be.a)({},a,{type:a.type+"_FAILURE",error:t})),e({type:"SNACKBAR",message:String(t.response.data),severity:"error"})}))}}})),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));o.a.render(r.a.createElement(k.a,{store:Ue},r.a.createElement((function(){var e=Ee(),a=Object(k.b)(),t=Object(f.a)("(prefers-color-scheme: dark)"),n=Object(k.c)((function(e){return e.theme}));n||a({type:"THEME",theme:t?"light":"dark"});var c=r.a.useState(!0),o=Object(l.a)(c,2),b=o[0],E=o[1],g=(Object(u.a)(e.paper,e.fixedHeight),Object(m.a)({palette:{type:n}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,null),r.a.createElement(s.a,null,r.a.createElement(p.a,{theme:g},r.a.createElement("div",{className:e.root},r.a.createElement(d.a,null),r.a.createElement(Re,{open:b,handleDrawerOpen:function(){E(!0)}}),r.a.createElement(_e,{open:b,handleDrawerClose:function(){E(!1)}}),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(y.a,{maxWidth:"lg",className:e.container},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/proposals"},r.a.createElement(ee,null)),r.a.createElement(i.a,{path:"/users"},r.a.createElement(ne,null)),r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(pe,null)),r.a.createElement(i.a,{exact:!0,path:"/login"},r.a.createElement(de.a,null))),r.a.createElement(j.a,{container:!0,spacing:3},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))),r.a.createElement(Ae,null))))}),null)),document.getElementById("root"))},58:function(e,a,t){"use strict";var n=t(15),r=t(106),c=t.n(r).a.create({baseURL:(window.localStorage.base||"https://nomicjs.basicer.repl.co")+"/api"});a.a=Object(n.a)({},c,{setAuth:function(e,a){c.defaults.auth={username:e,password:a}}})},68:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(13);function r(){var e=Object(n.c)((function(e){return e.user})),a=Object(n.c)((function(e){return e.state}));if(e)return Object.assign({name:e},a.users[e])}}},[[145,1,2]]]);
//# sourceMappingURL=main.b6feecfe.chunk.js.map