{"version":3,"sources":["components/DotButton.js","components/pages/Login.js","components/pages/Crypto.js","api.js","hooks.js","logo.svg","components/helpers.js","material.js","crypto.js","components/pages/NewProposal.js","components/pages/Users.js","components/pages/Inspect.js","styles.js","components/Navigation.js","components/SettingsDialog.js","components/pages/Profile.js","components/pages/ApiClient.js","App.js","reducer.js","store.js","index.js"],"names":["DotButton","actions","React","useState","anchorEl","setAnchorEl","handleClose","aria-label","onClick","event","currentTarget","keepMounted","open","onClose","Object","entries","map","name","action","key","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","padding","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignIn","classes","localStorage","secretKey","user","remember","state","setState","dispatch","useDispatch","currentUser","useUser","history","useHistory","api","useAPI","useEffect","push","gameState","useGamestate","users","u","title","userError","length","keyError","o","require","deriveKey","pkey","public","toString","console","log","isolateKey","okay","component","maxWidth","className","variant","autoComplete","onSubmit","e","preventDefault","id","options","getOptionLabel","option","style","inputValue","onInputChange","value","renderInput","params","required","fullWidth","label","error","helperText","type","onChange","target","control","color","checked","disabled","sig","nacl","sign","Uint8Array","secret","setAuth","Buffer","from","request","get","login","Crypto","input","setInput","useMemo","encoded","concat","container","item","xs","md","lg","rowsMax","multiline","readonly","readOnly","comment","client","axios","create","username","password","defaults","auth","setBase","base","baseURL","useSelector","store","assign","data","simstate","simulator","useSimulator","then","s","module","exports","If","check","children","env","Str","b","this","buffer","offset","len","indexOf","slice","readInt","readBuffer","r","readUInt32BE","str","h","hash","keyPair","fromSeed","m","match","fromSecretKey","buf","pub","readCString","readString","priv","end","Error","pubs","pppp","pks","a","c","reduceRight","p","v","i","reduce","x","String","fromCharCode","publicKey","test","split","rightButton","float","NewProposal","code","setCode","paletteType","Button","size","post","onSuccess","message","severity","endIcon","Send","Typography","Divider","mode","height","fontSize","editorProps","$blockScrolling","setOptions","useWorker","root","marginBottom","red","User","Card","CardHeader","Avatar","titleTypographyProps","subheader","lastSeen","withTitle","fromNow","date","Date","CardContent","Users","result","k","Fragment","TabPanel","index","hidden","padded","MasonView","Component","lazy","Inspect","myTheme","filtered","window","filter","handleChange","indicatorColor","textColor","n","expandLevel","nodeRenderer","depth","isNonenumerable","expanded","language","active","toolbar","paddingRight","toolbarIcon","justifyContent","mixins","appBar","zIndex","drawer","transition","transitions","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","menuButtonHidden","flexGrow","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","overflow","paddingTop","paddingBottom","fixedHeight","backdrop","styles","Navigation","handleDrawerClose","links","exact","Drawer","clsx","IconButton","url","icon","extra","button","activeClassName","RouterLink","to","primary","edge","SettingsDialog","settingsOpen","handleClickOpen","settings","Dialog","aria-labelledby","TransitionComponent","undefined","DialogTitle","List","ListItem","ListItemIcon","ListItemText","ListItemSecondaryAction","inputProps","TextField","DialogActions","autoFocus","box","card","Stat","gutterBottom","Profile","durationFromNow","inactivityTimeout","flex","iconButton","chip","divider","method","ApiClient","response","updateState","paths","headers","path","JSON","parse","validateStatus","keys","substr","elevation","labelId","InputProps","Autocomplete","freeSolo","selectOnFocus","placeholder","orientation","direction","status","green","stringify","Proposals","Banner","MyAlert","props","EventConnector","events","EventSource","es","onopen","onerror","addEventListener","close","ApiConnector","MySnackBar","snackbar","autoHideDuration","UserButton","AccountCircleIcon","LockIcon","aria-haspopup","startIcon","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","Icon","Header","handleDrawerOpen","redirect","replace","setSettingsOpen","noWrap","badgeContent","App","proposals","isDark","useMediaQuery","createMuiTheme","blue","darken","pink","A400","background","setOpen","shouldStartClosed","amOpen","ThemeProvider","CssBaseline","fallback","Login","rel","href","reconstruct","references","resolved","what","$ref","$t","Function","src","proto","$s","$v","prop","upvars","defaultStore","mw","applyMiddleware","getState","next","err","__REDUX_DEVTOOLS_EXTENSION__","createStore","connection","copy","compose","apply","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.880fcd1c.chunk.js","sourcesContent":["import React from \"react\";\nimport {Menu, IconButton, MenuItem} from \"../material\";\n\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\n\nexport default function DotButton({ actions }) {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    return (\n        <>\n            <IconButton aria-label=\"settings\" onClick={handleClick}>\n                <MoreVertIcon />\n            </IconButton>\n            <Menu\n                anchorEl={anchorEl}\n                keepMounted\n                open={!!anchorEl}\n                onClose={handleClose}\n            >\n                {Object.entries(actions).map(([name, action]) => <MenuItem key={name} onClick={() => {\n                    action();\n                    handleClose();\n                }}>{name}</MenuItem>)}\n            </Menu>\n        </>\n    )\n}","import React from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\n\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\n\nimport {Paper, Checkbox} from \"../../material\";\n\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { useDispatch } from \"react-redux\";\nimport { useGamestate, useUser } from \"../../hooks\";\nimport { useHistory } from \"react-router-dom\";\n\nimport nacl from \"tweetnacl\";\nimport {useAPI} from \"../../hooks\";\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(4)\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main\n\t},\n\tform: {\n\t\twidth: \"100%\", // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1)\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2)\n\t}\n}));\n\nexport default function SignIn() {\n\tconst classes = useStyles();\n\tconst [state, setState] = React.useState({ \n\t\tkey: localStorage.secretKey || \"\",\n\t\tuser: localStorage.user || \"\",\n\t\tremember: false \n\t});\n\tconst dispatch = useDispatch();\n\tconst currentUser = useUser();\n\tconst history = useHistory();\n\tconst api = useAPI();\n\n\tReact.useEffect(() => {\n\t\tif (currentUser) history.push(`/users/${currentUser.name}`);\n\t}, [currentUser, history]);\n\n\tconst gameState = useGamestate().state;\n\tlet users = [];\n\tfor (let u in gameState ? gameState.users : {}) {\n\t\tusers.push({ title: u });\n\t}\n\n\tlet onKeyChanged = function(event) {\n\t\tsetState({ ...state, key: event.target.value });\n\t};\n\tlet onUserChanged = function(event, value) {\n\t\tconsole.log(event);\n\t\tif (!event) return;\n\t\tsetState({ ...state, user: value });\n\t};\n\n\tif (!gameState || !gameState.users) return <></>;\n\n\tlet userError;\n\tif (state.user.length > 0 && !gameState.users[state.user]) {\n\t\tuserError = \"Invalid User\";\n\t}\n\n\tlet o = require('../../crypto').deriveKey(state.key);\n\n\tlet pkey = o.public.toString(\"base64\");\n\tlet keyError;\n\n\tlet user = gameState && gameState.users && gameState.users[state.user];\n\tconsole.log(\"Seeking\", pkey);\n\tif (state.key.length > 0 && user && pkey !== require('../../crypto').isolateKey(user.key)) {\n\t\tkeyError = \"Incorrect Key\";\n\t}\n\tlet okay = user && state.key.length > 0 && !keyError;\n\n\tfunction login() {\n\t\tif (okay) {\n\t\t\tlet sig = nacl.sign(new Uint8Array(1), o.secret);\n\t\t\tapi.setAuth(state.user, Buffer.from(sig).toString(\"base64\"));\n\t\t\tdispatch({ type: \"LOGIN\", user: state.user, request: api.get(\"/login\") });\n\t\t\tif (state.remember) {\n\t\t\t\tlocalStorage.user = state.user;\n\t\t\t\tlocalStorage.secretKey = Buffer.from(o.secret).toString(\"base64\");\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<Paper className={classes.paper}>\n\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\tSign in\n\t\t\t\t</Typography>\n\t\t\t\t<form\n\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tonSubmit={e => e.preventDefault()}\n\t\t\t\t>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tid=\"combo-box-demo\"\n\t\t\t\t\t\toptions={users}\n\t\t\t\t\t\tgetOptionLabel={option => option.title}\n\t\t\t\t\t\tstyle={{ width: \"100%\" }}\n\t\t\t\t\t\tinputValue={state.user}\n\t\t\t\t\t\tonInputChange={onUserChanged}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"usridx\"\n\t\t\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\t\t\tname=\"usridx\"\n\t\t\t\t\t\t\t\terror={!!userError}\n\t\t\t\t\t\t\t\thelperText={userError}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\t//variant=\"outlined\"\n\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tname=\"kkey\"\n\t\t\t\t\t\tlabel=\"Private Key / Password\"\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tid=\"key\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tonChange={onKeyChanged}\n\t\t\t\t\t\terror={!!keyError}\n\t\t\t\t\t\thelperText={keyError}\n\t\t\t\t\t\tvalue={state.key}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\tcontrol={<Checkbox value=\"remember\" color=\"primary\" checked={state.remember} onClick={() => setState({...state, remember: !state.remember})} />}\n\t\t\t\t\t\tlabel=\"Remember me\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\tdisabled={!okay}\n\t\t\t\t\t\tonClick={() => login()}\n\t\t\t\t\t>\n\t\t\t\t\t\tSign In\n\t\t\t\t\t</Button>\n\t\t\t\t\t{/*\n          <Grid container>\n            <Grid item xs>\n              <Link href=\"#\" variant=\"body2\">\n                Forgot password?\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link href=\"#\" variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n          */}\n\t\t\t\t</form>\n\t\t\t</Paper>\n\t\t</Container>\n\t);\n}\n","import React, { useState, useMemo } from \"react\";\nimport {deriveKey} from \"../../crypto\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Container, Grid, Paper, TextField, Typography, Divider} from \"../../material\";\n\nconst useStyles = makeStyles(theme => ({\n    form: {\n        padding: theme.spacing(1)\n    }\n}));\n\nexport default function Crypto() {\n    let classes = useStyles();\n    let fixedHeightPaper = '';\n    let [input, setInput] = useState('');\n    let key = useMemo(() => {\n        return deriveKey(input);\n    }, [input])\n    let keyError;\n    let encoded = Buffer.concat([Buffer.from(\"\\0\\0\\0\\x0Bssh-ed25519\\0\\0\\0\\x20\", \"ascii\"), key.public]);\n\n    return (<Container maxWidth=\"lg\" className={classes.container}>\n        <Grid container spacing={3}>\n            {/* Chart */}\n            <Grid item xs={12} md={12} lg={9}>\n                <Paper className={fixedHeightPaper}>\n                    <form\n                        className={classes.form}\n                        autoComplete=\"off\"\n                        onSubmit={e => e.preventDefault()}\n                    >\n                        <Typography variant=\"h5\">Key Converter</Typography>\n                        <Divider />\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            name=\"kkey\"\n                            label=\"Password\"\n                            type=\"password\"\n                            id=\"key\"\n                            rowsMax={7}\n                            helperText={`Type: ${key.type}`}\n                            autoComplete=\"off\"\n                            multiline\n                            onChange={e => setInput(e.target.value)}\n                            error={!!keyError}\n                            value={input}\n                        />\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            name=\"pkey\"\n                            label=\"Raw Public Key\"\n                            id=\"pkey\"\n                            autoComplete=\"off\"\n                            readonly\n                            value={key.public.toString('base64')}\n                        />\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            name=\"pkey\"\n                            label=\"OpenSSH Public Key\"\n                            id=\"pkey\"\n                            autoComplete=\"off\"\n                            readOnly\n                            value={'ssh-ed25519 ' + encoded.toString('base64') + ' ' + key.comment}\n                        />\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            name=\"skey\"\n                            label=\"Secret Key\"\n                            id=\"skey\"\n                            autoComplete=\"off\"\n                            multiline\n                            rowsMax={3}\n                            readOnly\n                            value={key.secret.toString('base64')}\n                        />\n                    </form>\n                </Paper>\n            </Grid>\n        </Grid>\n    </Container>);\n}","import axios from \"axios\";\n\nconst client = axios.create({});\n\nfunction setAuth(username, password) {\n\tclient.defaults.auth = {\n\t\tusername,\n\t\tpassword\n\t};\n}\n\n/*\nsetAuth(\n\t'basicer',\n\t'HiVhlgoKt//+U6RekhFTmx36ggIABsmLd3h/tJmrMUJXqWTJYSnLn8p8P6/96G0qN+R0mM9UhNp0idg2xJ4mBGJhc2ljZXI'\n);\n*/\n\nexport default {\n\t...client,\n\tclient: client,\n\tsetAuth,\n\tsetBase: base => (client.defaults.baseURL = base + \"/api\")\n};\n","import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport api from \"./api\";\n\nexport function useUser() {\n\tlet user = useSelector(store => store.user);\n\tlet state = useSelector(store => store.state);\n\n\tif (!user) return;\n\treturn Object.assign({ name: user }, state.users[user]);\n}\n\nlet deepcopy = o => JSON.parse(JSON.stringify(o));\n\nexport function useGamestate() {\n\tlet state = useSelector(store => store.state);\n\tlet data = useSelector(store => store.data);\n\tlet simstate = useSelector(store => store.simulator);\n\n\tif (simstate) return {\n\t\tstate: simstate.state,\n\t\tdata: simstate.data\n\t}\n\n\treturn {state, data};\n}\n\nexport function useSimulator() {\n\tlet [state, setState] = useState();\n\tlet simstate = useSelector(store => store.simulator);\n\n\tuseEffect(() => {\n\t\tif (!simstate) return;\n\t\timport('./simulator').then(s => {\n\t\t\tsetState(s);\n\t\t})\n\t}, [!!simstate])\n\t\n\treturn state;\n}\n\nexport function useAPI() {\n\treturn api;\n}","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React from \"react\";\n\nexport function If({check, children}) {\n\tif ( check ) return <>{children}</>;\n\telse return <></>;\n}","export {default as AppBar} from \"@material-ui/core/AppBar\";\nexport {default as Snackbar} from \"@material-ui/core/Snackbar\";\nexport {default as Alert} from \"@material-ui/lab/Alert\";\nexport {default as Toolbar} from \"@material-ui/core/Toolbar\";\nexport {default as List} from \"@material-ui/core/List\";\nexport {default as Typography} from \"@material-ui/core/Typography\";\nexport {default as Divider} from \"@material-ui/core/Divider\";\nexport {default as IconButton} from \"@material-ui/core/IconButton\";\nexport {default as ToggleSwitch} from \"@material-ui/core/Switch\";\nexport {default as Button} from \"@material-ui/core/Button\";\nexport {default as Container} from \"@material-ui/core/Container\";\nexport {default as Grid} from \"@material-ui/core/Grid\";\nexport {default as Dialog} from \"@material-ui/core/Dialog\";\nexport {default as CircularProgress} from \"@material-ui/core/CircularProgress\";\nexport {default as TextField} from \"@material-ui/core/TextField\";\nexport {default as Paper} from \"@material-ui/core/Paper\";\nexport {default as Link} from \"@material-ui/core/Link\";\nexport {default as ListItem} from \"@material-ui/core/ListItem\";\nexport {default as ListItemIcon} from \"@material-ui/core/ListItemIcon\";\nexport {default as ListItemText} from \"@material-ui/core/ListItemText\";\nexport {default as ListItemSecondaryAction} from \"@material-ui/core/ListItemSecondaryAction\";\nexport {default as ListSubheader} from \"@material-ui/core/ListSubheader\";\nexport {default as Box} from \"@material-ui/core/Box\";\nexport {default as Backdrop} from \"@material-ui/core/Backdrop\";\nexport {default as Switch} from \"@material-ui/core/Switch\";\nexport {default as Badge} from \"@material-ui/core/Badge\";\nexport {default as Checkbox} from \"@material-ui/core/Checkbox\";\n\nexport { default as InputBase } from \"@material-ui/core/InputBase\";\nexport { default as Select } from \"@material-ui/core/Select\";\nexport { default as Chip } from \"@material-ui/core/Chip\";\n\nexport {default as Tab} from \"@material-ui/core/Tab\";\nexport {default as Tabs} from \"@material-ui/core/Tabs\";\nexport { default as Menu } from \"@material-ui/core/Menu\";\nexport { default as MenuList } from \"@material-ui/core/MenuList\";\nexport { default as MenuItem } from \"@material-ui/core/MenuItem\";\n\nexport {default as Card} from \"@material-ui/core/Card\";\nexport { default as CardContent } from \"@material-ui/core/CardContent\";\n\nexport {default as MenuIcon} from \"@material-ui/icons/Menu\";\nexport {default as SettingsIcon} from \"@material-ui/icons/Settings\";\nexport {default as CloseIcon} from \"@material-ui/icons/Close\";\nexport {default as ListIcon} from \"@material-ui/icons/List\";\nexport {default as WifiIcon} from \"@material-ui/icons/Wifi\";\nexport {default as LockIcon} from \"@material-ui/icons/Lock\";\n\n\nexport { default as ChevronLeftIcon} from \"@material-ui/icons/ChevronLeft\";\n//export {NotificationsIcon} from \"@material-ui/icons/Notifications\";\n\nexport { default as AccountCircleIcon} from \"@material-ui/icons/AccountCircle\";\nexport { default as AccountTreeIcon} from '@material-ui/icons/AccountTree';\nexport { default as NotificationsIcon} from '@material-ui/icons/Notifications';\nexport { default as SendIcon } from '@material-ui/icons/Send';","import nacl from \"tweetnacl\";\n\nlet env = /^\\s*-----BEGIN OPENSSH PRIVATE KEY-----\\s([^-]*)-----END OPENSSH PRIVATE KEY-----\\s*$/ism;\n\nclass Str {\n    constructor(b) { this.buffer = b; this.offset = 0; }\n    readCString() {\n        let len = this.buffer.indexOf('\\0', this.offset) - this.offset;\n        let s = this.buffer.slice(this.offset, len);\n        this.offset += len + 1;\n        return s.toString('utf8');\n    }\n    readBuffer() {\n        let len = this.readInt();\n        let s = this.buffer.slice(this.offset, this.offset + len);\n        this.offset += len;\n        return s;\n    }\n    readString() {\n        return this.readBuffer().toString('utf8');\n    }\n    readInt() {\n        let r = this.buffer.readUInt32BE(this.offset);\n        this.offset += 4;\n        return r;\n    }\n    end() {\n        return this.offset >= this.buffer.length;\n    }\n    rest() {\n        return this.buffer.slice(this.offset);\n    }\n}\n\n\nexport function deriveKey(str) {\n    let h = Buffer.from(nacl.hash(Buffer.from(str, \"utf8\")));\n    let o = nacl.sign.keyPair.fromSeed(h.slice(0, 32));\n    let type = 'hash';\n    let comment = '';\n    let debug = (...args) => false;\n    debug(str);\n    try {\n        let m = str.match(env);\n        if (m) str = m[1];\n\n        let s = Buffer.from(str, \"base64\");\n        if (s.length === 64) {\n            h = s;\n            o = nacl.sign.keyPair.fromSecretKey(s);\n            type = 'raw';\n        } else if ( s.length >= 230 ) {\n            let buf = new Str(s);\n            let magic = buf.readCString();\n            debug(\"S\", magic);\n\n            var cipher = buf.readString();\n            var kdf = buf.readString();\n            debug(\"Ciper\", cipher, kdf);\n            var opts = buf.readString();\n\n            var keys = buf.readInt();\n            debug(\"Nkeys\", keys, opts);\n\n            var pub = buf.readBuffer();\n            var priv = buf.readBuffer();\n            if (!buf.end()) throw new Error();\n            let pubs = new Str(pub);\n            let header = pubs.readString();\n            let pppp = pubs.readBuffer();\n            debug(\"Public\", header, pppp.length);\n\n            debug(\"Private\", priv.toString(\"utf8\"), priv.length);\n\n\n            let pks = new Str(priv);\n            let k1 = pks.readInt();\n            let k2 = pks.readInt();\n            if (k1 !== k2) throw new Error();\n            pks.readBuffer();\n            let a = pks.readBuffer();\n            let b = pks.readBuffer();\n            let c = pks.readBuffer();\n            debug(\"A\",a,\"B\",b, a.reduceRight((p, v, i) => p && v === pppp[i], true));\n            o = nacl.sign.keyPair.fromSecretKey(b);\n            comment = c.reduce((s,x) => s + String.fromCharCode(x), '');\n            type = 'openssl';\n        }\n\n    } catch (e) { console.error(e) }\n\n    return {\n        public: Buffer.from(o.publicKey),\n        secret: Buffer.from(o.secretKey),\n        type: type,\n        comment: comment\n    };\n\n\n}\n\nexport function isolateKey(str) {\n    if (/^ssh-ed25519 /.test(str)) {\n        str = str.split(' ')[1];\n        console.log(\"L\", Buffer.from(str, 'base64').slice(19).toString('base64'));\n        return Buffer.from(str, 'base64').slice(19).toString('base64');\n    }\n    return str;\n}","import React from \"react\";\nimport { Typography, Divider, Button } from \"@material-ui/core\";\nimport { Send as SendIcon } from \"@material-ui/icons\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/webpack-resolver\";\n\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport \"ace-builds/src-noconflict/theme-github\";\nimport \"ace-builds/src-noconflict/theme-monokai\";\nimport \"ace-builds/src-min-noconflict/ext-language_tools\";\nimport \"ace-builds/src-noconflict/snippets/javascript\";\n\n\nimport { useAPI } from \"../../hooks\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\trightButton: {\n\t\tfloat: \"right\"\n\t}\n}));\n\nexport default function NewProposal() {\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\tconst api = useAPI();\n\tlet [code, setCode] = React.useState(\"\");\n\tlet classes = useStyles();\n\tconst paletteType = useSelector(store => store.theme);\n\n\tfunction sendProposal() {\n\t\tdispatch({\n\t\t\ttype: \"NEW_PROPOSAL\",\n\t\t\trequest: api.post(\"/propose\", { code: code }),\n\t\t\tonSuccess: () => {\n\t\t\t\thistory.push(\"/proposals\");\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"SNACKBAR\",\n\t\t\t\t\tmessage: \"Proposal Sent!\",\n\t\t\t\t\tseverity: \"success\"\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tclassName={classes.rightButton}\n\t\t\t\tsize=\"large\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tonClick={sendProposal}\n\t\t\t\tendIcon={<SendIcon />}\n\t\t\t>\n\t\t\t\tSubmit\n\t\t\t</Button>\n\t\t\t<Typography variant=\"h3\">New Proposal</Typography>\n\t\t\t<Divider />\n\t\t\t<br />\n\t\t\t<AceEditor\n\t\t\t\tmode=\"javascript\"\n\t\t\t\ttheme={paletteType === \"light\" ? \"github\" : \"monokai\"}\n\t\t\t\tonChange={setCode}\n\t\t\t\tvalue={code}\n\t\t\t\twidth=\"100%\"\n\t\t\t\theight=\"500px\"\n\t\t\t\tfontSize={14}\n\t\t\t\tname=\"new-proposal-ace\"\n\t\t\t\teditorProps={{\n\t\t\t\t\t$blockScrolling: true\n\t\t\t\t}}\n\t\t\t\tsetOptions={{\n\t\t\t\t\tuseWorker: true\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\n//import CardMedia from \"@material-ui/core/CardMedia\";\nimport CardContent from \"@material-ui/core/CardContent\";\n//import CardActions from \"@material-ui/core/CardActions\";\n//import Collapse from \"@material-ui/core/Collapse\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { red } from \"@material-ui/core/colors\";\n//import FavoriteIcon from \"@material-ui/icons/Favorite\";\n//import ShareIcon from \"@material-ui/icons/Share\";\n//import ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Moment from 'react-moment';\n\nimport { useHistory } from \"react-router-dom\";\nimport { useGamestate } from \"../../hooks\";\n\nimport DotButton from \"../DotButton\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tmarginBottom: theme.spacing(1)\n\t},\n\tavatar: {\n\t\tbackgroundColor: red[500]\n\t}\n}));\n\nfunction User({ name, data }) {\n\tconst classes = useStyles();\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\n\tlet actions = {\n\t\t\"Profile\": () => history.push(`/users/${name}`)\n\t};\n\n\treturn (\n\t\t<Card className={classes.root}>\n\t\t\t<CardHeader\n\t\t\t\tavatar={<Avatar className={classes.avatar}></Avatar>}\n\t\t\t\taction={\n\t\t\t\t\t<DotButton actions={actions} />\n\t\t\t\t}\n\t\t\t\ttitle={name}\n\t\t\t\ttitleTypographyProps={{ variant: \"h5\" }}\n\t\t\t\tsubheader={data.lastSeen ? (<span>Last seen <Moment withTitle fromNow date={new Date(data.lastSeen)} /></span>) : \"\"}\n\t\t\t/>\n\t\t\t<CardContent>\n\t\t\t\t<Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n\t\t\t\t\t{data.key}\n\t\t\t\t</Typography>\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n\nexport default function Users() {\n\tconst {state} = useGamestate();\n\tconst data = state && state.users;\n\n\tlet result = [];\n\tfor (let k in data) {\n\t\tresult.push(<User name={k} data={data[k]} />);\n\t}\n\treturn <React.Fragment>{result}</React.Fragment>;\n}\n","import React from \"react\";\nimport {Tabs, Tab, Paper} from \"../../material\";\nimport { ObjectInspector, ObjectLabel, ObjectRootLabel } from \"react-inspector\";\nimport { useGamestate } from \"../../hooks\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Highlight from \"react-highlight.js\";\nimport { Typography } from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\n\nfunction TabPanel({value, index, children}) {\n\treturn <Typography hidden={value!==index}>{children}</Typography>\n}\n\nconst useStyles = makeStyles(theme => ({\n\tpadded: {\n\t\tpadding: theme.spacing(2)\n\t}\n}));\n\nclass ErrorBoundary extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { error: false };\n\t}\n\n\tstatic getDerivedStateFromError(error) {\n\t\t// Update state so the next render will show the fallback UI.\n\t\treturn { error: error };\n\t}\n\n\tcomponentDidCatch(error, errorInfo) {}\n\n\trender() {\n\t\tif (this.state.error !== false) {\n\t\t\t// You can render any custom fallback UI\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<h1>Something went wrong.</h1>\n\t\t\t\t\t<pre style={{ overflow: \"scroll\" }}>${this.state.error.stack}</pre>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn this.props.children;\n\t}\n}\n\nlet MasonView = React.lazy(() => import(\"../MasonView\"));\n\nexport default function Inspect() {\n\tconst {state, data} = useGamestate();\n\tconst myTheme = useSelector(store => store.theme);\n\tconst classes = useStyles();\n\tconst theme = myTheme === \"dark\" ? \"chromeDark\" : \"chromeLight\";\n\n\tconst nodeRenderer = ({ depth, name, data, isNonenumerable, expanded }) => {\n\t\tif (depth === 0) return <ObjectRootLabel name={name} data={data} />;\n\t\tif (\n\t\t\t(name === \"src\" || name === \"code\") &&\n\t\t\ttypeof data == \"string\" &&\n\t\t\tdata.length > 0\n\t\t) {\n\t\t\treturn (\n\t\t\t\t<span>\n\t\t\t\t\t<Highlight language=\"javascript\">{data}</Highlight>\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\t\tif ( typeof data === \"function\") {\n\t\t\treturn (\n\t\t\t\t<ObjectLabel name={name} data={data} isNonenumerable={isNonenumerable} />\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<ObjectLabel name={name} data={data} isNonenumerable={isNonenumerable} />\n\t\t);\n\t};\n\n\tlet filter = o => {\n\t\tlet r = Object.assign({}, o);\n\t\tfor (let k in r) {\n\t\t\tif (typeof window[k] !== \"undefined\" || k === \"global\") delete r[k];\n\t\t}\n\t\treturn r;\n\t};\n\n\tlet filtered = filter(state);\n\tlet [value, handleChange] = React.useState(1);\n\n\t\n\n\treturn (\n\t\t<Paper>\n\t\t\t<Tabs\n\t\t\t\tvalue={value}\n\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\ttextColor=\"primary\"\n\t\t\t\tonChange={(e,n) => handleChange(n)}\n\t\t\t>\n\t\t\t<Tab label=\"Tree\" value={0} />\n\t\t\t<Tab label=\"MasonView\" value={1} />\n\t\t\t</Tabs>\n\t\t\t<TabPanel value={value} index={0} className={classes.padded}>\n\t\t\t\t<ObjectInspector\n\t\t\t\t\tdata={filtered}\n\t\t\t\t\ttheme={theme}\n \t\t\t\t\texpandLevel={3}\n \t\t\t\t\tnodeRenderer={nodeRenderer}\n\t\t\t\t/>\n\t\t\t</TabPanel>\n\t\t\t<TabPanel value={value} index={1}>\n\t\t\t\t<MasonView data={data} />\n\t\t\t</TabPanel>\n\t\t</Paper>\n\t);\n}\n","const drawerWidth = 240;\n\nexport default theme => ({\n\troot: {\n\t\tdisplay: \"flex\"\n\t},\n\tactive: {\n\t\tcolor: \"red\"\n\t},\n\ttoolbar: {\n\t\tpaddingRight: 24 // keep right padding when drawer closed\n\t},\n\ttoolbarIcon: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"flex-end\",\n\t\tpadding: \"0 8px\",\n\t\t...theme.mixins.toolbar\n\t},\n\tappBar: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\ttransition: theme.transitions.create([\"width\", \"margin\"], {\n\t\t\teasing: theme.transitions.easing.sharp,\n\t\t\tduration: theme.transitions.duration.leavingScreen\n\t\t})\n\t},\n\tappBarShift: {\n\t\tmarginLeft: drawerWidth,\n\t\twidth: `calc(100% - ${drawerWidth}px)`,\n\t\ttransition: theme.transitions.create([\"width\", \"margin\"], {\n\t\t\teasing: theme.transitions.easing.sharp,\n\t\t\tduration: theme.transitions.duration.enteringScreen\n\t\t})\n\t},\n\tmenuButton: {\n\t\tmarginRight: 36\n\t},\n\tmenuButtonHidden: {\n\t\tdisplay: \"none\"\n\t},\n\ttitle: {\n\t\tflexGrow: 1\n\t},\n\tdrawerPaper: {\n\t\tposition: \"relative\",\n\t\twhiteSpace: \"nowrap\",\n\t\twidth: drawerWidth,\n\t\ttransition: theme.transitions.create(\"width\", {\n\t\t\teasing: theme.transitions.easing.sharp,\n\t\t\tduration: theme.transitions.duration.enteringScreen\n\t\t})\n\t},\n\tdrawerPaperClose: {\n\t\toverflowX: \"hidden\",\n\t\ttransition: theme.transitions.create(\"width\", {\n\t\t\teasing: theme.transitions.easing.sharp,\n\t\t\tduration: theme.transitions.duration.leavingScreen\n\t\t}),\n\t\twidth: theme.spacing(7),\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\twidth: theme.spacing(9)\n\t\t}\n\t},\n\tappBarSpacer: theme.mixins.toolbar,\n\tcontent: {\n\t\tflexGrow: 1,\n\t\theight: \"100vh\",\n\t\toverflow: \"auto\"\n\t},\n\tcontainer: {\n\t\tpaddingTop: theme.spacing(4),\n\t\tpaddingBottom: theme.spacing(4)\n\t},\n\tpaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\"\n\t},\n\tfixedHeight: {\n\t\theight: 240\n\t},\n\trightButton: {\n\t\tfloat: \"right\"\n\t},\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: '#fff',\n\t},\n});","import React from \"react\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport clsx from \"clsx\";\n\nimport styles from \"../styles\";\n\nimport Divider from \"@material-ui/core/Divider\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport { NavLink as RouterLink } from \"react-router-dom\";\nimport { \n\tList, ListItem, ListItemIcon, ListItemText,\n\tListItemSecondaryAction, Switch, AccountTreeIcon,\n} from \"../material\";\n\nimport {useSimulator} from \"../hooks\";\n\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\n\n\n//import ListSubheader from \"@material-ui/core/ListSubheader\";\n\n//import MenuIcon from \"@material-ui/icons/Menu\";\nimport ListIcon from \"@material-ui/icons/List\";\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\n//import ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\nimport PeopleIcon from \"@material-ui/icons/People\";\n//import BarChartIcon from \"@material-ui/icons/BarChart\";\nimport LayersIcon from \"@material-ui/icons/Layers\";\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport BallotIcon from \"@material-ui/icons/Ballot\";\nimport FindInPageIcon from \"@material-ui/icons/FindInPage\";\nimport ContactlessIcon from '@material-ui/icons/Contactless';\nimport ExploreIcon from '@material-ui/icons/Explore';\n\n//import AssignmentIcon from \"@material-ui/icons/Assignment\";\n\nconst useStyles = makeStyles(styles);\n\nexport default function Navigation({ open, handleDrawerClose }) {\n\tconst classes = useStyles();\n\tconst dispatch = useDispatch();\n\tconst store = useSelector(x => x);\n\tconst simuator = useSimulator();\n\n\tlet links = [\n\t\t[\"Banner\", \"/\", <DescriptionIcon />, {exact: true}],\n\t\t[\"Inspect\", \"/inspect\", <FindInPageIcon />],\n\t\t[\"Proposals\", \"/proposals\", <BallotIcon />],\n\t\t[\"Users\", \"/users\", <PeopleIcon />],\n\t\t[\"Api Client\", \"/api-client\", <ContactlessIcon />],\n\t\t[\"Crypto\", \"/crypto\", <LayersIcon />],\n\t];\n\treturn (\n\t\t<Drawer\n\t\t\tvariant=\"permanent\"\n\t\t\tclasses={{\n\t\t\t\tpaper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose)\n\t\t\t}}\n\t\t\topen={open}\n\t\t>\n\t\t\t<div className={classes.toolbarIcon}>\n\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t<ChevronLeftIcon />\n\t\t\t\t</IconButton>\n\t\t\t</div>\n\t\t\t<Divider />\n\t\t\t<List>\n\t\t\t\t{\n\t\t\t\t\tlinks.map(([name, url, icon, extra={}]) =>\n\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t{...extra}\n\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\tactiveClassName=\"Mui-selected\"\n\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\tkey={name}\n\t\t\t\t\t\t\tto={url}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t<ListItemText primary={name} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t<Divider />\n\t\t\t<ListItem>\n\t\t\t\t<ListItemIcon><AccountTreeIcon /></ListItemIcon>\n\t\t\t\t<ListItemText primary=\"Simulator\" />\n\t\t\t\t<ListItemSecondaryAction hidden={!open}>\n\t\t\t\t<Switch\n\t\t\t\t\tedge=\"end\"\n\t\t\t\t\tonChange={v => dispatch({type: 'TOGGLE_SIMULATOR', value: v})}\n\t\t\t\t\tchecked={!!store.simulator}\n\t\t\t\t/>\n\t\t\t\t</ListItemSecondaryAction>\n\t\t\t</ListItem>\n\t\t\t</List>\n\t\t</Drawer>\n\t);\n}\n","import React from \"react\";\nimport { Provider, useDispatch, useSelector } from \"react-redux\";\n\nimport List from \"@material-ui/core/List\";\nimport Divider from \"@material-ui/core/Divider\";\nimport ToggleSwitch from \"@material-ui/core/Switch\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport SettingsBrightnessIcon from \"@material-ui/icons/SettingsBrightness\";\nimport DnsIcon from \"@material-ui/icons/Dns\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nexport default function SettingsDialog({\n\tsettingsOpen,\n\thandleClickOpen,\n\thandleClose\n}) {\n\tconst store = useSelector(x => x);\n\tconst dispatch = useDispatch();\n\tconst [state, setState] = React.useState({\n\t\tbase: store.settings.base\n\t});\n\n\tconst Transition = undefined;\n\n\tfunction apply() {\n\t\tdispatch({ type: \"SET_SETTING\", key: \"base\", value: state.base });\n\t\thandleClose();\n\t}\n\n\treturn (\n\t\t<Dialog\n\t\t\tfullWidth\n\t\t\topen={settingsOpen}\n\t\t\tkeepMounted\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"alert-dialog-title\"\n\t\t\tTransitionComponent={Transition}\n\t\t>\n\t\t\t<DialogTitle id=\"alert-dialog-title\">{\"Settings\"}</DialogTitle>\n\t\t\t<List>\n\t\t\t\t<Divider />\n\t\t\t\t<ListItem>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<SettingsBrightnessIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText id=\"switch-list-label-wifi\" primary=\"Dark Mode\" />\n\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\tedge=\"end\"\n\t\t\t\t\t\t\tonChange={() =>\n\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\ttype: \"THEME\",\n\t\t\t\t\t\t\t\t\ttheme: store.theme === \"light\" ? \"dark\" : \"light\"\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchecked={store.theme !== \"light\"}\n\t\t\t\t\t\t\tinputProps={{ \"aria-labelledby\": \"switch-list-label-wifi\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t</ListItem>\n\t\t\t\t<Divider />\n\t\t\t\t<ListItem>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<DnsIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText id=\"switch-list-label-wifi\" primary=\"Server\" />\n\t\t\t\t\t<ListItemSecondaryAction>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvalue={state.base}\n\t\t\t\t\t\t\tonChange={e => setState({ ...state, base: e.target.value })}\n\t\t\t\t\t\t\tchecked={true}\n\t\t\t\t\t\t\tinputProps={{ \"aria-labelledby\": \"switch-list-label-wifi\" }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ListItemSecondaryAction>\n\t\t\t\t</ListItem>\n\t\t\t\t{/*\n        <Divider />\n        <ListItem button>\n            <ListItemText primary=\"Default notification ringtone\" secondary=\"Tethys\" />\n        </ListItem>\n        */}\n\t\t\t</List>\n\t\t\t<Divider />\n\t\t\t<DialogActions>\n\t\t\t\t<Button onClick={handleClose} color=\"secondary\" variant=\"contained\">\n\t\t\t\t\tCancel\n\t\t\t\t</Button>\n\t\t\t\t<Button onClick={apply} color=\"primary\" variant=\"contained\" autoFocus>\n\t\t\t\t\tApply\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n}\n","import React, { useState, useMemo } from \"react\";\n\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Grid, Typography, Divider, Card, CardContent} from \"../../material\";\nimport { useGamestate } from \"../../hooks\";\nimport Moment from 'react-moment';\n\n\nconst useStyles = makeStyles(theme => ({\n    box: {\n        marginBottom: theme.spacing(1)\n    },\n    card: {\n    },\n    title: {\n        fontSize: 14,\n    },\n    content: {\n\n    }\n}));\n\nfunction Stat({title, children, size=2, component=\"h5\"}) {\n    let classes = useStyles();\n    return (<Grid item md={size*2} xs={size*3}><Card className={classes.card}>\n        <CardContent className={classes.content}>\n            <Typography className={classes.title} color=\"textSecondary\" gutterBottom>\n                {title} <Divider />\n        </Typography>\n        <Typography variant={component}>\n            {children}\n        </Typography>\n        </CardContent>\n    </Card></Grid>)\n}\n\nexport default function Profile({match}) {\n    let classes = useStyles();\n    let {state} = useGamestate();\n    console.log('State', state);\n    let name = match.params.user;\n    let user = state && state.users && state.users[name];\n    if (!user) return <></>;\n\n    return (\n        <>\n            <Typography variant=\"h2\" >{name}</Typography>\n            <Divider className={classes.box} />\n            <Grid container spacing={2}>\n            <Stat title=\"Last Seen\"><Moment durationFromNow date={new Date(user.lastSeen)} /></Stat>\n            <Stat title=\"Goes Inactive\"><Moment duration={new Date()} date={new Date(user.lastSeen + state.inactivityTimeout)} /></Stat>\n            <Stat title=\"Key\" component=\"body1\" size={3}><pre>{user.key}</pre></Stat>\n            </Grid>\n        </>\n    );\n}","import React, { useState, useMemo } from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport { Container, Grid, Paper, TextField, Typography, \n    InputBase, Divider, IconButton, MenuIcon,\n    Select, MenuItem, Chip, Box, SendIcon\n} from \"../../material\";\n\nimport { red, green } from \"@material-ui/core/colors\";\n\nimport { If } from \"../helpers\";\n\nimport DirectionsIcon from \"@material-ui/icons/Directions\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { useGamestate, useAPI } from \"../../hooks\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport Highlight from \"react-highlight.js\";\n\nimport AceEditor from \"react-ace\";\nimport \"ace-builds/src-noconflict/mode-json\";\nimport \"ace-builds/src-noconflict/theme-github\";\nimport \"ace-builds/src-noconflict/theme-monokai\";\nimport \"ace-builds/src-min-noconflict/ext-language_tools\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        padding: '2px 4px',\n        display: 'flex',\n        alignItems: 'center',\n       marginBottom: theme.spacing(1),\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n    iconButton: {\n        padding: 10,\n    },\n    chip: {\n        margin: theme.spacing(1)\n    },\n    divider: {\n        height: 28,\n        margin: 4,\n    },\n    method: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1)\n    },\n}));\n\nexport default function ApiClient() {\n    let classes = useStyles();\n    let response = useSelector(state => state['api-response']);\n    let dispatch = useDispatch();\n    let api = useAPI();\n    let state = useSelector(state => state['api-request']);\n    let updateState = data => dispatch({ type: 'SET_API_REQUESET', data});\n    let gameState = useGamestate();\n    const paletteType = useSelector(store => store.theme);\n\n    console.log(gameState);\n    let paths = [];\n    if ( gameState && gameState.state && gameState.state[state.method] ) {\n        paths = Object.keys(gameState.state[state.method]).map(x => x.substr(1));\n    }\n\n    function request() {\n        let headers = {};\n        if (state.method !== \"GET\") {\n            headers['content-type'] = 'application/json';\n        }\n        return api.client({\n            method: state.method,\n            headers: headers,\n            url: '/' + state.path,\n            data: state.method !== \"GET\" ? JSON.parse(state.data) : undefined,\n            validateStatus: x => true\n        });\n    }\n    let base = api.defaults.baseURL || '';\n\n    return (<Container maxWidth=\"lg\" className={classes.container}>\n        <form\n            autoComplete=\"off\"\n            onSubmit={e => {dispatch({\n                type: 'API_CLIENT_REQUEST',\n                request: request()\n            }); e.preventDefault()}}\n        >\n        <Paper component=\"form\" className={classes.root} elevation={3}>\n            <Select\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                value={state.method}\n                onChange={e => updateState({...state, method: e.target.value})}\n                className={classes.method}\n            >\n                <MenuItem value={'GET'}>GET</MenuItem>\n                <MenuItem value={'POST'}>POST</MenuItem>\n            </Select>\n\n            <TextField \n                value={base + '/'}\n                style={{width: `${base.length}ex`}}\n                InputProps={{\n                    readOnly: true,\n                }}\n            />\n\n            <Autocomplete\n                id=\"combo-box-demo\"\n                options={paths}\n                getOptionLabel={option => option}\n                inputValue={state.path}\n                className={classes.input}\n                freeSolo\n                selectOnFocus\n                onInputChange={(e,v) => updateState({...state, path: v})}\n                renderInput={params => (\n                    <TextField\n                        {...params}\n                        fullWidth\n                        id=\"usridx\"\n                        placeholder=\"path\"\n                        name=\"usridx\"\n                        autoComplete=\"off\"\n                    />\n                )}\n            />\n\n            <Divider className={classes.divider} orientation=\"vertical\" />\n            <IconButton\n                color=\"primary\"\n                className={classes.iconButton}\n                type=\"submit\"\n                onClick={() => dispatch({\n                    type: 'API_CLIENT_REQUEST',\n                    request: request()\n                })}\n            >\n                <SendIcon />\n            </IconButton>\n        </Paper>\n        </form>\n        <If check={!!response}>\n            \n        </If>\n        <Grid container spacing={2} direction=\"row-reverse\">\n            <If check={state.method === \"POST\"}>\n            <Grid item xs={6}>\n                <Paper>\n                    <AceEditor\n                        mode=\"json\"\n                        theme={paletteType === \"light\" ? \"github\" : \"monokai\"}\n                        onChange={e => updateState({...state, data: e})}\n                        value={state.data}\n                        width=\"100%\"\n                        height=\"300px\"\n                        fontSize={14}\n                        name=\"api-ace\"\n                        editorProps={{ $blockScrolling: true }}\n                    />\n                </Paper>\n            </Grid>\n            </If>\n            <Grid item xs={state.method === \"POST\" ? 6 : 12}>\n            <If check={!!response}>\n                <Paper variant=\"outlined\">\n                    <Chip\n                        className={classes.chip}\n                        color={(response && response.status === 200) ? green[30] : red[30]}\n                        label={`Status: ${response && response.status}`}\n                    />\n                    {Object.entries(response ? response.headers : {}).map(([k, v]) => <Chip\n                        className={classes.chip}\n                        color=\"default\"\n                        label={`${k}: ${v}`}\n                    />)}\n                </Paper>\n                <Paper>\n                    <Highlight language=\"json\">{JSON.stringify(response && response.data, null, '\\t')}</Highlight>\n                </Paper>\n            </If>\n            </Grid>\n        </Grid>\n    </Container>);\n}","import logo from \"./logo.svg\";\nimport \"./App.css\";\n\nimport React, { Suspense } from \"react\";\n\nimport { BrowserRouter, Route, Switch, useHistory } from \"react-router-dom\";\n\nimport { blue, pink } from \"@material-ui/core/colors\";\nimport { If } from \"./components/helpers\";\n\nimport clsx from \"clsx\";\nimport {\n\tmakeStyles,\n\tThemeProvider,\n\tuseTheme,\n\tdarken,\n\tcreateMuiTheme\n} from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport {\n\tAlert, Snackbar, AppBar, Toolbar, IconButton, MenuIcon, Typography, \n\tSettingsIcon, AccountCircleIcon, Container, Grid, Dialog, CircularProgress,\n\tBackdrop, Badge, NotificationsIcon, Menu, MenuItem, MenuList, ListItemIcon,\n\tLockIcon\n} from \"./material\"\n\nimport NewProposal from \"./components/pages/NewProposal\";\nimport Users from \"./components/pages/Users\";\nimport Inspect from \"./components/pages/Inspect\";\nimport Login from \"./components/pages/Login\";\nimport Navigation from \"./components/Navigation\";\nimport SettingsDialog from \"./components/SettingsDialog\";\nimport Crypto from \"./components/pages/Crypto\";\nimport Profile from \"./components/pages/Profile\";\nimport ApiClient from \"./components/pages/ApiClient\";\n\n\nimport styles from \"./styles\";\n\nimport { useUser, useAPI } from \"./hooks\";\nimport { Button } from \"@material-ui/core\";\n\nconst Proposals = React.lazy(() => import(\"./components/pages/Proposals\"));\nconst Banner = React.lazy(() => import(\"./components/pages/Banner\"));\n\n\nconst useStyles = makeStyles(styles);\n\nfunction MyAlert(props) {\n\treturn <Alert elevation={6} variant=\"filled\" {...props} />;\n}\n\nfunction EventConnector() {\n\tlet dispatch = useDispatch();\n\tlet settings = useSelector(store => store.settings);\n\tReact.useEffect(() => {\n\t\tlet base = settings.base;\n\t\tlet events = new EventSource(base + \"/event-stream\");\n\t\twindow.es = events;\n\t\tevents.onopen = () => {\n\t\t\tdispatch({ type: \"CONNECTION_STATE\", value: 'connected' });\n\t\t};\n\t\tevents.onerror = () => {\n\t\t\tdispatch({ type: \"CONNECTION_STATE\", value: 'disconnected' });\n\t\t};\n\t\tdispatch({ type: \"NEW_SERVER\" });\n\t\tevents.addEventListener(\"initial\", function(e) {\n\t\t\tdispatch({ type: \"INITIAL_STATE\", data: JSON.parse(e.data) });\n\t\t});\n\n\t\tevents.addEventListener(\"update\", function(e) {\n\t\t\tdispatch({ type: \"UPDATE_STATE\", data: JSON.parse(e.data) });\n\t\t});\n\n\t\treturn () => {\n\t\t\tevents.close();\n\t\t};\n\t}, [settings.base, dispatch]);\n\n\treturn <></>;\n}\n\nfunction ApiConnector() {\n\tlet store = useSelector(store => store.settings);\n\tlet api = useAPI();\n\tReact.useEffect(() => {\n\t\tconsole.log(\"Base\", store.base);\n\t\tapi.setBase(store.base);\n\t}, [store.base]);\n\treturn <></>;\n}\n\nfunction MySnackBar() {\n\tconst dispatch = useDispatch();\n\tconst store = useSelector(store => store.snackbar);\n\treturn (\n\t\t<Snackbar\n\t\t\topen={!!store}\n\t\t\tautoHideDuration={4000}\n\t\t\tonClose={() => dispatch({ type: \"CLOSE_SNACKBAR\" })}\n\t\t>\n\t\t\t<MyAlert\n\t\t\t\tonClose={() => dispatch({ type: \"CLOSE_SNACKBAR\" })}\n\t\t\t\tseverity={store ? store.severity : \"info\"}\n\t\t\t>\n\t\t\t\t{store && store.message}\n\t\t\t</MyAlert>\n\t\t</Snackbar>\n\t);\n}\n\nfunction UserButton() {\n\tconst user = useUser();\n\tconst history = useHistory();\n\tconst dispatch = useDispatch();\n\t\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n\tlet actions = [\n\t\t[AccountCircleIcon , 'Profile', () => history.push('/users/' + user.name)],\n\t\t[LockIcon, 'Log Out', () => dispatch({type: 'LOG_OUT'})],\n\t]\n\t\n\tif (!user) {\n\t\treturn (\n\t\t\t<Button  onClick={() => history.push(\"/login\")} variant=\"contained\" color=\"default\">\n\t\t\t\tLogin\n\t\t\t</Button>\n\t\t)\n\t}\n\n\treturn (\n\t\t<>\n\t\t<Button\n\t\t\tcolor=\"default\"\n\t\t\tvariant=\"contained\"\n\t\t\taria-haspopup=\"true\"\n\t\t\tstartIcon={<AccountCircleIcon />}\n\t\t\tonClick={handleClick}\n\t\t>\n\t\t\t{user.name}\n\t\t</Button>\n\t\t<Menu\n\t\t\tgetContentAnchorEl={null}\n\t\t\tanchorEl={anchorEl}\n\t\t\topen={!!anchorEl}\n\t\t\tonClose={handleClose}\n\t\t\tanchorOrigin={{\n\t\t\t\tvertical: 'bottom',\n\t\t\t\thorizontal: 'left',\n\t\t\t}}\n\t\t\ttransformOrigin={{\n\t\t\t\tvertical: 'top',\n\t\t\t\thorizontal: 'left',\n\t\t\t}}\n\t\t>\n\t\t\t{actions.map(([Icon, name, action]) => <MenuItem onClick={() => {\n\t\t\t\taction();\n\t\t\t\thandleClose();\n\t\t\t}}>\n\t\t\t\t<ListItemIcon>\n            \t\t<Icon />\n          \t\t</ListItemIcon>\n\t\t\t\t{name}\n\t\t\t</MenuItem>)}\n\t\t</Menu></>\n\t);\n\n}\n\n\n\nfunction Header({ open, handleDrawerOpen }) {\n\tconst history = useHistory();\n\tif ( localStorage.redirect ) {\n\t\thistory.replace(localStorage.redirect);\n\t\tdelete localStorage.redirect;\n\t}\n\tconst classes = useStyles();;\n\n\tconst [settingsOpen, setSettingsOpen] = React.useState(false);\n\tconst handleClickOpen = () => {\n\t\tsetSettingsOpen(true);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetSettingsOpen(false);\n\t};\n\n\treturn (\n\t\t<AppBar\n\t\t\tposition=\"absolute\"\n\t\t\tclassName={clsx(classes.appBar, open && classes.appBarShift)}\n\t\t>\n\t\t\t<Toolbar className={classes.toolbar}>\n\t\t\t\t<IconButton\n\t\t\t\t\tedge=\"start\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\tonClick={handleDrawerOpen}\n\t\t\t\t\tclassName={clsx(classes.menuButton, open && classes.menuButtonHidden)}\n\t\t\t\t>\n\t\t\t\t\t<MenuIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t<Typography\n\t\t\t\t\tcomponent=\"h1\"\n\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\tcolor=\"inherit\"\n\t\t\t\t\tnoWrap\n\t\t\t\t\tclassName={classes.title}\n\t\t\t\t>\n\t\t\t\t\tNomic.js\n\t\t\t\t</Typography>\n\t\t\t\t<If check={false}>\n\t\t\t\t<IconButton color=\"inherit\">\n\t\t\t\t\t<Badge badgeContent={4} color=\"secondary\">\n\t\t\t\t\t<NotificationsIcon />\n\t\t\t\t\t</Badge>\n\t\t\t\t</IconButton>\n\t\t\t\t</If>\n\n\t\t\t\t<IconButton color=\"inherit\" onClick={handleClickOpen} >\n\t\t\t\t\t<SettingsIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t<UserButton />\n\t\t\t</Toolbar>\n\t\t\t<SettingsDialog\n\t\t\t\thandleClickOpen={handleClickOpen}\n\t\t\t\thandleClose={handleClose}\n\t\t\t\tsettingsOpen={settingsOpen}\n\t\t\t/>\n\t\t</AppBar>\n\t);\n}\n\nexport default function App() {\n\tconst classes = useStyles();\n\tconst dispatch = useDispatch();\n\tconst data = useSelector(store => store.state && store.state.proposals);\n\tconst isDark = useMediaQuery(\"(prefers-color-scheme: dark)\");\n\tconst paletteType = useSelector(store => store.theme);\n\tif (!paletteType) dispatch({ type: \"THEME\", theme: isDark ? \"light\" : \"dark\" });\n\n\tconst theme = React.useMemo(() => {\n\t\tconst nextTheme = createMuiTheme(\n\t\t\t{\n\t\t\t\tpalette: {\n\t\t\t\t\tprimary: {\n\t\t\t\t\t\tmain: paletteType === 'light' ? blue[700] : blue[200],\n\t\t\t\t\t},\n\t\t\t\t\tsecondary: {\n\t\t\t\t\t\tmain: paletteType === 'light' ? darken(pink.A400, 0.1) : pink[200],\n\t\t\t\t\t},\n\t\t\t\t\ttype: paletteType,\n\t\t\t\t\tbackground: {\n\t\t\t\t\t\t//default: paletteType === 'light' ? '#fff' : '#121212',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t);\n\n\t\t//nextTheme.palette.background.level2 =\n\t\t//\tpaletteType === 'light' ? nextTheme.palette.grey[100] : '#333';\n\n\t\t//nextTheme.palette.background.level1 =\n\t\t//\tpaletteType === 'light' ? '#fff' : nextTheme.palette.grey[900];\n\n\t\treturn nextTheme;\n\t}, [paletteType]);\n\n\tconst [open, setOpen] = React.useState(undefined);\n\tconst shouldStartClosed = useMediaQuery(theme.breakpoints.up('md'));\n\tlet amOpen = typeof open === \"undefined\" ? shouldStartClosed : open;\n\n\tconst fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\n\n\tconst handleDrawerOpen = () => {\n\t\tsetOpen(true);\n\t};\n\tconst handleDrawerClose = () => {\n\t\tsetOpen(false);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<EventConnector />\n\t\t\t<ApiConnector />\n\t\t\t<BrowserRouter>\n\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t<div className={classes.root}>\n\t\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t\t<Header open={amOpen} handleDrawerOpen={handleDrawerOpen} />\n\t\t\t\t\t\t<Navigation open={amOpen} handleDrawerClose={handleDrawerClose} />\n\t\t\t\t\t\t<main className={classes.content}>\n\t\t\t\t\t\t\t<div className={classes.appBarSpacer} />\n\t\t\t\t\t\t\t<Container maxWidth=\"lg\" className={classes.container}>\n\t\t\t\t\t\t\t\t<Suspense fallback={<Backdrop className={classes.backdrop}><CircularProgress size=\"200px\" /></Backdrop>}>\n\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t<Route path=\"/users/:user\" component={Profile} />\n\t\t\t\t\t\t\t\t\t<Route path=\"/proposals/new\" component={NewProposal} />\n\t\t\t\t\t\t\t\t\t<Route path=\"/proposals\" component={Proposals} />\n\t\t\t\t\t\t\t\t\t<Route path=\"/users\" component={Users} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/\" component={Banner} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/inspect\" component={Inspect} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/login\" component={Login} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/crypto\" component={Crypto} />\n\t\t\t\t\t\t\t\t\t<Route exact path=\"/api-client\" component={ApiClient} />\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Backdrop\n\t\t\t\t\t\topen={!data}\n\t\t\t\t\t\tclassName={classes.backdrop}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CircularProgress size=\"200px\" />\n\t\t\t\t\t</Backdrop>\n\t\t\t\t\t<MySnackBar />\n\t\t\t\t</ThemeProvider>\n\t\t\t</BrowserRouter>\n\t\t\t<link rel='stylesheet' href='/monokai.css' disabled={paletteType === 'light'} />\n\t\t\t<link rel='stylesheet' href='/github.css' disabled={paletteType !== 'light'} />\n\t\t</>\n\t);\n}\n","function reconstruct(x) {\n\tlet references = x.references;\n\tlet resolved = {};\n\tfunction o(what) {\n\t\tif (what.$ref) {\n\t\t\tif (!resolved[what.$ref]) {\n\t\t\t\tlet x = {};\n\t\t\t\tif (references[what.$ref].$t === \"function\") {\n\t\t\t\t\tx = new Function(references[what.$ref].src);\n\t\t\t\t}\n\t\t\t\tif (references[what.$ref].proto.$s === \"%ArrayPrototype%\") {\n\t\t\t\t\tx = [];\n\t\t\t\t}\n\t\t\t\tresolved[what.$ref] = x;\n\t\t\t\ttry {\n\t\t\t\t\tObject.assign(resolved[what.$ref], o(references[what.$ref]));\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\t\t\treturn resolved[what.$ref];\n\t\t}\n\t\tif (what.$v) {\n\t\t\treturn what.$v;\n\t\t}\n\t\tif (what.$t === \"undefined\") return \"undefined\";\n\t\telse if (what === null) return \"null\";\n\t\telse if (what.$t === \"object\") {\n\t\t\tlet p = {};\n\t\t\tfor (let k in what.prop) {\n\t\t\t\tp[k] = o(what.prop[k].v);\n\t\t\t}\n\t\t\treturn p;\n\t\t}\n\t\tif (what.$t === \"function\") {\n\t\t\tlet p = { src: what.src };\n\t\t\tfor (let k in what.prop) {\n\t\t\t\tp[k] = o(what.prop[k].v);\n\t\t\t}\n\t\t\tp.upvars = {};\n\t\t\tfor (let k in what.upvars) {\n\t\t\t\tp.upvars[k] = o(what.upvars[k])[k];\n\t\t\t}\n\t\t\treturn p;\n\t\t}\n\t\treturn what;\n\t}\n\treturn o(x.root);\n}\n\nconst defaultStore = {\n\tsettings: {\n\t\tbase: window.localStorage.base || \"https://nomic.pylif.com\"\n\t},\n\t'api-request': {\n\t\tmethod: 'GET',\n\t\tpath: '',\n\t\tdata: '{\\n\\t\\n}'\n\t}\n};\n\nexport default function reducer(store = defaultStore, action) {\n\tswitch (action.type) {\n\t\tcase \"NEW_SERVER\":\n\t\t\treturn { ...store, state: {}, data: {} };\n\t\tcase \"CONNECTION_STATE\":\n\t\t\treturn { ...store, connection: action.value };\n\t\tcase \"INITIAL_STATE\":\n\t\t\treturn { ...store, state: reconstruct(action.data), data: action.data };\n\t\tcase \"UPDATE_STATE\":\n\t\t\tlet data = store.data;\n\t\t\tfor (let k in action.data) {\n\t\t\t\tdata.references[k] = action.data[k];\n\t\t\t}\n\t\t\tlet r = reconstruct(data);\n\t\t\treturn { ...store, state: r, data: data };\n\t\tcase \"SNACKBAR\":\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tsnackbar: {\n\t\t\t\t\tmessage: action.message,\n\t\t\t\t\tseverity: action.severity || \"success\"\n\t\t\t\t}\n\t\t\t};\n\t\tcase \"CLOSE_SNACKBAR\":\n\t\t\treturn { ...store, snackbar: undefined };\n\t\tcase \"THEME\":\n\t\t\treturn { ...store, theme: action.theme };\n\t\tcase \"LOGIN_SUCCESS\":\n\t\t\treturn { ...store, user: action.user };\n\t\tcase \"LOG_OUT\":\n\t\t\tdelete localStorage.secretKey;\n\t\t\tdelete localStorage.user;\n\t\t\treturn { ...store, user: undefined };\n\t\tcase \"SET_SETTING\":\n\t\t\treturn {\n\t\t\t\t...store,\n\t\t\t\tsettings: { ...store.settings, [action.key]: action.value }\n\t\t\t};\n\t\tcase \"TOGGLE_SIMULATOR\":\n\t\t\tif ( store.simulator ) {\n\t\t\t\treturn {...store, simulator: undefined}\n\t\t\t} else {\n\t\t\t\tlet copy = JSON.parse(JSON.stringify(store.data));\n\t\t\t\treturn {...store, simulator: {\n\t\t\t\t\tdata: copy, \n\t\t\t\t\tstate: reconstruct(copy)\n\t\t\t\t}};\n\t\t\t}\n\t\tcase \"API_CLIENT_REQUEST_SUCCESS\":\n\t\t\treturn {...store, 'api-response': action.result}\n\t\tcase \"API_CLIENT_REQUEST_PENDING\":\n\t\t\treturn { ...store, 'api-response': undefined }\n\t\tcase \"SET_API_REQUESET\":\n\t\t\treturn { ...store, 'api-request': action.data }\n\t\tdefault:\n\t\t\treturn store;\n\t}\n}\n","import { createStore, compose, applyMiddleware } from \"redux\";\nimport reducer from \"./reducer\";\n\nfunction request_middleware({ getState }) {\n\treturn next => action => {\n\t\tif (!action.request) return next(action);\n\t\tnext({ type: action.type + \"_PENDING\" });\n\t\taction.request.then(\n\t\t\tresult => {\n\t\t\t\tnext({ ...action, type: action.type + \"_SUCCESS\", data: result.data, result: result });\n\t\t\t\tif (action.onSuccess) action.onSuccess(result);\n\t\t\t},\n\t\t\terr => {\n\t\t\t\tnext({ ...action, type: action.type + \"_FAILURE\", error: err });\n\t\t\t\tnext({\n\t\t\t\t\ttype: \"SNACKBAR\",\n\t\t\t\t\tmessage: String(err.response.data),\n\t\t\t\t\tseverity: \"error\"\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t};\n}\n\nlet mw = [applyMiddleware(request_middleware)];\n\nif ( window.__REDUX_DEVTOOLS_EXTENSION__ ) mw.push(window.__REDUX_DEVTOOLS_EXTENSION__());\n\nconst store = createStore(\n\treducer,\n\tundefined,\n\tcompose.apply(undefined, mw)\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}