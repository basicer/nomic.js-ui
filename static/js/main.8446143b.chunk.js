(this.webpackJsonpcreap=this.webpackJsonpcreap||[]).push([[0],{130:function(e,a,t){"use strict";(function(e){t.d(a,"a",(function(){return k}));var n=t(14),r=t(31),l=t(0),c=t.n(l),o=t(411),i=t(404),s=t(408),u=t(147),m=t(405),p=t(410),d=t(131),f=t.n(d),E=t(33),b=t(400),g=t(403),h=t(11),v=t(38),O=t(63),y=t.n(O),j=t(37),S=t(52),w=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function k(){var a=w(),t=c.a.useState({key:"",user:""}),l=Object(r.a)(t,2),d=l[0],b=l[1],O=Object(h.b)(),k=Object(S.a)(),C=Object(v.f)();c.a.useEffect((function(){k&&C.push("/profile")}),[k]);var N=Object(h.c)((function(e){return e.state})),x=[];for(var I in N?N.users:{})x.push({title:I});var T;d.user.length>0&&!N.users[d.user]&&(T="Invalid User");var _=e.from(y.a.hash(e.from(d.key,"utf8"))),A=y.a.sign.keyPair.fromSeed(_.slice(0,32));try{var B=e.from(d.key,"base64");64===B.length&&(_=B,A=y.a.sign.keyPair.fromSecretKey(B))}catch($){}var D,P=e.from(A.publicKey).toString("base64"),R=N&&N.users&&N.users[d.user];d.key.length>0&&R&&P!==R.key&&(D="Incorrect Key");var L=R&&d.key.length>0&&!D;return c.a.createElement(g.a,{component:"main",maxWidth:"xs"},c.a.createElement("div",{className:a.paper},c.a.createElement(o.a,{className:a.avatar},c.a.createElement(f.a,null)),c.a.createElement(E.a,{component:"h1",variant:"h5"},"Sign in"),c.a.createElement("form",{className:a.form,autocomplete:"off",onSubmit:function(e){return e.preventDefault()}},c.a.createElement(s.a,{id:"combo-box-demo",options:x,getOptionLabel:function(e){return e.title},style:{width:"100%"},inputValue:d.user,onInputChange:function(e,a){console.log(e),e&&b(Object(n.a)({},d,{user:a}))},renderInput:function(e){return c.a.createElement(u.a,Object.assign({},e,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"usridx",label:"Username",name:"usridx",error:!!T,helperText:T,autoComplete:"off",autoFocus:!0}))}}),c.a.createElement(u.a,{margin:"normal",required:!0,fullWidth:!0,name:"kkey",label:"Password",type:"password",id:"key",autoComplete:"off",onChange:function(e){b(Object(n.a)({},d,{key:e.target.value}))},error:!!D,helperText:D,value:d.key}),c.a.createElement(m.a,{control:c.a.createElement(p.a,{value:"remember",color:"primary"}),label:"Remember me"}),c.a.createElement(i.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,disabled:!L,onClick:function(){return function(){if(console.log(A.secretKey),L){var a=y.a.sign(new Uint8Array(1),A.secretKey);console.log("SIG",e.from(a).toString("base64")),j.a.setAuth(d.user,e.from(a).toString("base64")),O({type:"LOGIN",user:d.user,request:j.a.get("/login")})}}()}},"Sign In"))))}}).call(this,t(394).Buffer)},165:function(e,a,t){e.exports=t(399)},170:function(e,a,t){},171:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},172:function(e,a,t){},37:function(e,a,t){"use strict";var n=t(14),r=t(119),l=t.n(r).a.create({});a.a=Object(n.a)({},l,{setAuth:function(e,a){l.defaults.auth={username:e,password:a}},setBase:function(e){return l.defaults.baseURL=e+"/api"}})},398:function(e,a){},399:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),c=t.n(l),o=(t(170),t(31)),i=(t(171),t(172),t(38)),s=t(30),u=t(3),m=t(143),p=t(482),d=t(483),f=t(481),E=t(479),b=t(486),g=t(485),h=t(480),v=t(33),O=t(402),y=t(403),j=t(484),S=t(140),w=t.n(S),k=t(141),C=t.n(k),N=t(142),x=t.n(N),I=t(11),T=t(41),_=t(400),A=t(458),B=t(459),D=t(87),P=t(488),R=t(461),L=t(463),$=t(460),U=t(411),F=t(76),K=t(77),W=t(122),M=t.n(W),G=t(123),H=t.n(G),q=t(71),V=t.n(q),z=t(121),X=t.n(z),J=t(464),Q=t(462),Y=t(465),Z=t(52),ee=t(67),ae=t.n(ee),te=t(37),ne=Object(_.a)((function(e){return{root:{marginBottom:20},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},red:{backgroundColor:F.a[500]},green:{backgroundColor:K.a[500]},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(4)},bar:{display:"flex",flexWrap:"wrap",padding:e.spacing(.5)},chip:{margin:e.spacing(.5)}}}));function re(e){var a=e.name,t=e.data,n=ne(),l=Object(I.b)(),c=r.a.useState("passed"!==t.status),i=Object(o.a)(c,2),s=i[0],m=i[1];return r.a.createElement(A.a,{className:n.root},r.a.createElement(B.a,{avatar:r.a.createElement(U.a,{"aria-label":"recipe",className:"passed"!==t.status?n.red:n.green},a),action:r.a.createElement(O.a,{"aria-label":"settings"},r.a.createElement(V.a,null)),title:"Proposal #".concat(a),subheader:"by ".concat(t.author," at ").concat(new Date(t.created).toString())}),r.a.createElement($.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(R.a,null,r.a.createElement(v.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement(D.a,{variant:"outlined",className:n.bar},r.a.createElement("strong",{className:n.chip},"Votes:"),t.votes.map((function(e){return r.a.createElement(P.a,{className:n.chip,clickable:!0,size:"small",avatar:r.a.createElement(U.a,null,e.substr(0,1)),color:"primary",label:e,onDelete:function(){return!1},deleteIcon:r.a.createElement(Q.a,null)})}))),r.a.createElement(ae.a,null,t.code)))),r.a.createElement(L.a,{disableSpacing:!0},r.a.createElement(O.a,{"aria-label":"vote up",onClick:function(){l({type:"USERS",request:te.a.post("/vote",{id:parseInt(a)})})}},r.a.createElement(X.a,null)),r.a.createElement(O.a,{"aria-label":"share"},r.a.createElement(M.a,null)),r.a.createElement(O.a,{className:Object(u.a)(n.expand,Object(T.a)({},n.expandOpen,s)),onClick:function(){m(!s)},"aria-expanded":s,"aria-label":"show more"},r.a.createElement(H.a,null))))}function le(){var e=ne(),a=Object(I.c)((function(e){return e.state&&e.state.proposals})),t=Object(i.f)(),n=Object(Z.a)(),l=[];for(var c in a)l.push(r.a.createElement(re,{key:c,name:c,data:a[c]}));return 0===l.length&&l.push(r.a.createElement("h1",{key:0},"None yet...")),r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,l.reverse(),n&&r.a.createElement(J.a,{color:"primary","aria-label":"add",className:e.fab,onClick:function(){return t.push("/proposals/new")}},r.a.createElement(Y.a,null))))}var ce=t(404),oe=t(467),ie=t(466),se=t(125),ue=t.n(se),me=(t(389),t(390),t(391),t(14)),pe=Object(_.a)((function(e){return{root:{display:"flex"},active:{color:"red"},toolbar:{paddingRight:24},toolbarIcon:Object(me.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(T.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},rightButton:{float:"right"}}}));function de(){var e=Object(I.b)(),a=Object(i.f)(),t=r.a.useState(""),n=Object(o.a)(t,2),l=n[0],c=n[1],s=pe();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{variant:"contained",className:s.rightButton,size:"large",color:"primary",onClick:function(){e({type:"NEW_PROPOSAL",request:te.a.post("/propose",{code:l}),onSuccess:function(){a.push("/proposals"),e({type:"SNACKBAR",message:"Proposal Sent!",severity:"success"})}})},endIcon:r.a.createElement(ie.a,null)},"Submit"),r.a.createElement(v.a,{variant:"h3"},"New Proposal"),r.a.createElement(oe.a,null),r.a.createElement("br",null),r.a.createElement(ue.a,{mode:"javascript",theme:"monokai",onChange:c,value:l,width:"100%",height:"500px",fontSize:14,name:"UNIQUE_ID_OF_DIV",editorProps:{$blockScrolling:!0}}))}var fe=Object(_.a)((function(e){return{root:{marginBottom:e.spacing(1)},avatar:{backgroundColor:F.a[500]}}}));function Ee(e){var a=e.name,t=e.data,n=fe(),l=Object(I.b)();return r.a.createElement(A.a,{className:n.root},r.a.createElement(B.a,{avatar:r.a.createElement(U.a,{className:n.avatar}),action:r.a.createElement(O.a,{"aria-label":"settings",onClick:function(){return l({type:"blah"})}},r.a.createElement(V.a,null)),title:a,titleTypographyProps:{variant:"h5"},subheader:""}),r.a.createElement(R.a,null,r.a.createElement(v.a,{variant:"body2",color:"textSecondary",component:"p"},t.key)))}function be(){var e=Object(I.c)((function(e){return e.state&&e.state.users})),a=[];for(var t in e)a.push(r.a.createElement(Ee,{name:t,data:e[t]}));return r.a.createElement(r.a.Fragment,null,a)}var ge=t(126),he=t(127),ve=t(144),Oe=t(128),ye=t(145),je=t(78),Se=function(e){function a(e){var t;return Object(ge.a)(this,a),(t=Object(ve.a)(this,Object(Oe.a)(a).call(this,e))).state={error:!1},t}return Object(ye.a)(a,e),Object(he.a)(a,[{key:"componentDidCatch",value:function(e,a){}},{key:"render",value:function(){return!1!==this.state.error?r.a.createElement("div",null,r.a.createElement("h1",null,"Something went wrong."),r.a.createElement("pre",{style:{overflow:"scroll"}},"$",this.state.error.stack)):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),a}(r.a.Component);function we(){var e=Object(I.c)((function(e){return e.state})),a="dark"===Object(I.c)((function(e){return e.theme}))?"chromeDark":"chromeLight",t=function(e){var a=Object.assign({},e);for(var t in a)"undefined"!==typeof window[t]&&delete a[t];return a}(e);return r.a.createElement(D.a,null,r.a.createElement(Se,null,r.a.createElement(je.a,{data:t,theme:a,expandLevel:3,nodeRenderer:function(e){var a=e.depth,t=e.name,n=e.data,l=e.isNonenumerable;e.expanded;return 0===a?r.a.createElement(je.c,{name:t,data:n}):("src"===t||"code"===t)&&"string"==typeof n&&n.length>0?r.a.createElement("span",null,r.a.createElement(ae.a,{language:"javascript"},n)):r.a.createElement(je.b,{name:t,data:n,isNonenumerable:l})}})))}var ke=t(130),Ce=t(487),Ne=t(81),xe=t.n(Ne),Ie=t(471),Te=t(472),_e=t(473),Ae=t(82),Be=t.n(Ae),De=t(135),Pe=t.n(De),Re=t(136),Le=t.n(Re),$e=t(137),Ue=t.n($e);function Fe(e){var a=e.open,t=e.handleDrawerClose,n=pe();return r.a.createElement(Ce.a,{variant:"permanent",classes:{paper:Object(u.a)(n.drawerPaper,!a&&n.drawerPaperClose)},open:a},r.a.createElement("div",{className:n.toolbarIcon},r.a.createElement(O.a,{onClick:t},r.a.createElement(xe.a,null))),r.a.createElement(oe.a,null),r.a.createElement("div",null,r.a.createElement(Ie.a,{exact:!0,button:!0,activeClassName:"Mui-selected",component:s.b,to:"/"},r.a.createElement(Te.a,null,r.a.createElement(Pe.a,null)),r.a.createElement(_e.a,{primary:"Inspect"})),r.a.createElement(Ie.a,{button:!0,activeClassName:"Mui-selected",component:s.b,to:"/proposals"},r.a.createElement(Te.a,null,r.a.createElement(Be.a,null)),r.a.createElement(_e.a,{primary:"Proposals"})),r.a.createElement(Ie.a,{button:!0,activeClassName:"Mui-selected",component:s.b,to:"/users"},r.a.createElement(Te.a,null,r.a.createElement(Le.a,null)),r.a.createElement(_e.a,{primary:"Users"})),r.a.createElement(Ie.a,{button:!0,activeClassName:"Mui-selected",component:s.b,to:"/crypto"},r.a.createElement(Te.a,null,r.a.createElement(Ue.a,null)),r.a.createElement(_e.a,{primary:"Crypto"}))))}var Ke=t(470),We=t(477),Me=t(147),Ge=t(476),He=t(138),qe=t.n(He),Ve=t(139),ze=t.n(Ve),Xe=t(474),Je=t(478),Qe=t(475);function Ye(e){var a=e.settingsOpen,t=(e.handleClickOpen,e.handleClose),n=Object(I.c)((function(e){return e})),l=Object(I.b)(),c=r.a.useState({base:n.settings.base}),i=Object(o.a)(c,2),s=i[0],u=i[1];return r.a.createElement(Xe.a,{fullWidth:!0,open:a,keepMounted:!0,onClose:t,"aria-labelledby":"alert-dialog-title",TransitionComponent:void 0},r.a.createElement(Qe.a,{id:"alert-dialog-title"},"Settings"),r.a.createElement(Ke.a,null,r.a.createElement(oe.a,null),r.a.createElement(Ie.a,null,r.a.createElement(Te.a,null,r.a.createElement(qe.a,null)),r.a.createElement(_e.a,{id:"switch-list-label-wifi",primary:"Dark Mode"}),r.a.createElement(Ge.a,null,r.a.createElement(We.a,{edge:"end",onChange:function(){return l({type:"THEME",theme:"light"===n.theme?"dark":"light"})},checked:"light"!==n.theme,inputProps:{"aria-labelledby":"switch-list-label-wifi"}}))),r.a.createElement(oe.a,null),r.a.createElement(Ie.a,null,r.a.createElement(Te.a,null,r.a.createElement(ze.a,null)),r.a.createElement(_e.a,{id:"switch-list-label-wifi",primary:"Server"}),r.a.createElement(Ge.a,null,r.a.createElement(Me.a,{value:s.base,onChange:function(e){return u(Object(me.a)({},s,{base:e.target.value}))},checked:!0,inputProps:{"aria-labelledby":"switch-list-label-wifi"}})))),r.a.createElement(oe.a,null),r.a.createElement(Je.a,null,r.a.createElement(ce.a,{onClick:t,color:"secondary",variant:"contained"},"Cancel"),r.a.createElement(ce.a,{onClick:function(){l({type:"SET_SETTING",key:"base",value:s.base}),t()},color:"primary",variant:"contained",autoFocus:!0},"Apply")))}function Ze(e){return r.a.createElement(g.a,Object.assign({elevation:6,variant:"filled"},e))}function ea(){var e=Object(I.b)(),a=Object(I.c)((function(e){return e.settings}));return r.a.useEffect((function(){var t=a.base,n=new EventSource(t+"/event-stream");return window.es=n,n.onopen=function(){return console.log("Open")},e({type:"NEW_SERVER"}),n.addEventListener("initial",(function(a){e({type:"INITIAL_STATE",data:JSON.parse(a.data)})})),n.addEventListener("update",(function(a){e({type:"UPDATE_STATE",data:JSON.parse(a.data)})})),function(){n.close()}}),[a.base,e]),r.a.createElement(r.a.Fragment,null)}function aa(){var e=Object(I.c)((function(e){return e.settings}));return r.a.useEffect((function(){console.log("Base",e.base),te.a.setBase(e.base)}),[e.base]),r.a.createElement(r.a.Fragment,null)}function ta(){var e=Object(I.b)(),a=Object(I.c)((function(e){return e.snackbar}));return r.a.createElement(b.a,{open:!!a,autoHideDuration:4e3,onClose:function(){return e({type:"CLOSE_SNACKBAR"})}},r.a.createElement(Ze,{onClose:function(){return e({type:"CLOSE_SNACKBAR"})},severity:a?a.severity:"info"},a&&a.message))}function na(e){var a=e.open,t=e.handleDrawerOpen,n=Object(i.f)(),l=pe(),c=Object(Z.a)(),s=r.a.useState(!1),m=Object(o.a)(s,2),p=m[0],d=m[1],f=function(){d(!0)};return r.a.createElement(E.a,{position:"absolute",className:Object(u.a)(l.appBar,a&&l.appBarShift)},r.a.createElement(h.a,{className:l.toolbar},r.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:t,className:Object(u.a)(l.menuButton,a&&l.menuButtonHidden)},r.a.createElement(w.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:l.title},"Nomic.js"),r.a.createElement(O.a,{color:"inherit",onClick:f},r.a.createElement(C.a,null)),r.a.createElement(O.a,{color:"inherit",onClick:function(){return n.push("/login")}},r.a.createElement(x.a,null)),c?c.name:""),r.a.createElement(Ye,{handleClickOpen:f,handleClose:function(){d(!1)},settingsOpen:p}))}var ra=t(58);function la(e){var a=e.references,t={};return function e(n){if(n.$ref){if(!t[n.$ref]){var r={};"function"===a[n.$ref].$t&&(r=new Function(a[n.$ref].src)),"%ArrayPrototype%"===a[n.$ref].proto.$s&&(r=[]),t[n.$ref]=r;try{Object.assign(t[n.$ref],e(a[n.$ref]))}catch(u){}}return t[n.$ref]}if(n.$v)return n.$v;if("undefined"===n.$t)return"undefined";if(null===n)return"null";if("object"===n.$t){var l={};for(var c in n.prop)l[c]=e(n.prop[c].v);return l}if("function"===n.$t){var o={src:n.src};for(var i in n.prop)o[i]=e(n.prop[i].v);for(var s in o.upvars={},n.upvars)o.upvars[s]=e(n.upvars[s]);return o}return n}(e.root)}var ca={settings:{base:window.localStorage.base||"https://nomicjs.basicer.repl.co"}};var oa=Object(ra.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"NEW_SERVER":return Object(me.a)({},e,{state:{},data:{}});case"INITIAL_STATE":return Object(me.a)({},e,{state:la(a.data),data:a.data});case"UPDATE_STATE":var t=e.data;for(var n in a.data)t.references[n]=a.data[n];var r=la(t);return Object(me.a)({},e,{state:r,data:t});case"SNACKBAR":return Object(me.a)({},e,{snackbar:{message:a.message,severity:a.severity||"success"}});case"CLOSE_SNACKBAR":return Object(me.a)({},e,{snackbar:void 0});case"THEME":return Object(me.a)({},e,{theme:a.theme});case"LOGIN_SUCCESS":return console.log(a),Object(me.a)({},e,{user:a.user});case"SET_SETTING":return Object(me.a)({},e,{settings:Object(me.a)({},e.settings,Object(T.a)({},a.key,a.value))});default:return e}}),Object(ra.c)(Object(ra.a)((function(e){return e.getState,function(e){return function(a){if(!a.request)return e(a);e({type:a.type+"_PENDING"}),a.request.then((function(t){e(Object(me.a)({},a,{type:a.type+"_SUCCESS",data:t.data})),a.onSuccess&&a.onSuccess(t)}),(function(t){e(Object(me.a)({},a,{type:a.type+"_FAILURE",error:t})),e({type:"SNACKBAR",message:String(t.response.data),severity:"error"})}))}}})),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));c.a.render(r.a.createElement(I.a,{store:oa},r.a.createElement((function(){var e=pe(),a=Object(I.b)(),t=Object(f.a)("(prefers-color-scheme: dark)"),n=Object(I.c)((function(e){return e.theme}));n||a({type:"THEME",theme:t?"light":"dark"});var l=r.a.useState(!0),c=Object(o.a)(l,2),E=c[0],b=c[1],g=(Object(u.a)(e.paper,e.fixedHeight),Object(m.a)({palette:{type:n}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ea,null),r.a.createElement(aa,null),r.a.createElement(s.a,null,r.a.createElement(p.a,{theme:g},r.a.createElement("div",{className:e.root},r.a.createElement(d.a,null),r.a.createElement(na,{open:E,handleDrawerOpen:function(){b(!0)}}),r.a.createElement(Fe,{open:E,handleDrawerClose:function(){b(!1)}}),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(y.a,{maxWidth:"lg",className:e.container},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/proposals/new"},r.a.createElement(de,null)),r.a.createElement(i.a,{path:"/proposals"},r.a.createElement(le,null)),r.a.createElement(i.a,{path:"/users"},r.a.createElement(be,null)),r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(we,null)),r.a.createElement(i.a,{exact:!0,path:"/login"},r.a.createElement(ke.a,null))),r.a.createElement(j.a,{container:!0,spacing:3},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))),r.a.createElement(ta,null))))}),null)),document.getElementById("root"))},52:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(11);function r(){var e=Object(n.c)((function(e){return e.user})),a=Object(n.c)((function(e){return e.state}));if(e)return Object.assign({name:e},a.users[e])}}},[[165,1,2]]]);
//# sourceMappingURL=main.8446143b.chunk.js.map